## 用户端

### 前言
由于是业余开发我们没有设计稿没有UI重点是自我发挥，现提以下要求

* 页面必须简洁清晰
* 符合当前的主流审美
* 布局格调一旦确定必须统一，避免不伦不类
* 页面操作必须流畅，避免不必要卡顿

文中所有的方案有待考察和完善，有任何意见欢迎指出

### 登录注册

登录和注册一体

* 通过邮箱获取验证码
* 调用登录接口，校验邮箱和验证码
  * 已存在此邮箱账户，登录成功
  * 新账号则先录入，成功录入新账号信息后返回登录成功信息
  
### 我的持仓

#### 持仓列表

具体显示数据如下，页面自我发挥
  

| 股票代码 | 股票名称 | 持仓股数 | 持有价格 | 持有收益 | 持有收益率 | 今日收益 |
| ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| 600516 | 方大炭素 | 100 | 17 | 100 | 5.89% | 100 |

##### 添加持仓信息

* 用户只需要提供以下信息即可录入

  * 股票代码
  * 持有股数
  * 持有价格

* 在确认添加按钮上方可勾选是否对添加的股票进行监控
    * 默认为勾选
    * 涨/跌停板监控和市场监控(具体描述，后面有解释)

##### 持仓信息的删改

###### 可修改参数如下

每次修改确认后，需要记录此条记录，方便误修改后撤销

* 持仓股数
* 持有单价

###### 删除
* 删除操作实际为后台标记成删除
* 删除的信息在删除记录可查看和恢复
* 删除的信息7天后自动清理，清理完无法查看和恢复

###### 修改记录

* 修改记录
  * 每支股票显示最新的修改记录
  * 回退后显示上上次修改记录，无则不显示，依此类推
* 删除记录
  * 保留7天内的删除记录
  * 回退则此记录删除且恢复到持仓列表(刷新持仓列表)

#### 监控管理

##### 跌涨幅监控

###### 说明

用户可通过设置最高涨幅(<= 10%)和跌幅(>= -10%)对指定的股票进行监控；当设置的涨跌幅度分别我10%和-10%时则为涨/跌停的监控

###### 需要信息

* 涨幅
* 跌幅
* 股票代码

###### 监控频率6s一次

###### 提醒和通知

* 触发条件即发送提醒（邮箱）
* 相同消息默认只提醒一次，避免反复提醒
  * 消息提醒的频率用户可自行设置

##### 价格监控

###### 说明

用户可通过设置对应股票的最高价和最低价进行价格监控

###### 需要信息

* 最高价
* 最低价
* 股票代码


###### 监控频率和提醒同**跌涨幅监控**


##### 资金流向监控

###### 说明

通过调用获取资金流向接口进行实时的数据分析，获取此股的买卖热度，从而检测此股的异常情况，给予适当的提醒，主要分析数据如下：
* 主力净流入
* 散户净流入
* 总成交金额

###### 计算方式如下

1. 净流入小于0则为卖出反之在买入
2. 总成交金额大小的判断
   1. 大于20亿为高热度
   2. 大于10亿为中等
   3. 大于1亿为有热度
3. 其它计算方式待定

###### 需要信息

* 股票代码


###### 监控频率和提醒同**跌涨幅监控**

##### 消息面监控

###### 说明

主要监控一些财经网站，获取和监控股票相关资讯，和对应公司的公告讯息等

###### 方案
  
* 爬取新闻网站信息时，取前10条进行检查并筛选新闻的重复避免反复，保存信息如下
  * 新闻的标题
  * 新闻的内容
  * 新闻的链接
* 将最新消息且不重复的新闻保存，每一小时或者两小时取出消息列表数据，进行新闻详情的读取
* 对于读取的新闻详情进行利好分析
* 每天23:00清理当天暂存的新闻列表

###### 监控频率

* 股市交易时间时1小时一次
* 其它时间2小时一次

###### 提醒和通知

1. 股市交易时间

* 触发条件即发送提醒（邮箱）
* 相同消息默认只提醒一次，避免反复提醒
  * 消息提醒的频率用户可自行设置

2. 其它时间只在特定时间段发送(08:00-09:30和18:00-21:00)


#### 每周荐股

##### 展示信息
| 股票代码 | 股票名称 | 现价 | 推荐理由 |
| ------ | ------ | ------ | ------ |
| 600516 | 方大炭素 | 19.47 | 中国石墨烯代表公司且近期主力大批资金涌入，消息面利好 |

##### 说明
1. 每周的周末时间刷新
2. 分短线和长线推荐分别为5支
3. 服务对象为广大散户，所以股价大于20元不推荐

##### 方案

###### 短线分析
* 对每日的同花顺的龙虎榜数据进行定时爬虫，保存股票信息
    * 股票代码
    * 股票名称
    * 现价
    * 涨幅/跌幅(通过正负区分)
    * 成交量
* 每周日分析该一周内的龙虎榜数据，通过确定的公式筛选出五条短线股票
* 对于一周内上龙虎榜3此以上的且都是涨幅/跌幅存入重点关注列表

###### 长线(现有方案)

* 通过每日爬取财经网站首页，分离出最频繁出现的关键词并记录，
* 通过获得的关键词进行百度，证券网站进行搜索或者人工搜索获取相应板块的热门股
* 对上面的短线分析提供的重点关注股票和关键词搜索的热门股数据，进行数据分析-人工分析(如果你能搞个人工智能自动分析也可以，我们的目标)
  * 对公司所在行业进行分析
  * 对公司在所在行业的影响进行分析
  * 负面/利好消息进行分析
* 筛选出5支持久耐操的股票
  
### 用户反馈

用户通过表单的提交反馈信息

* 问题level
  * bug
  * 功能改进
  * 新增功能
* 标题
* 内容

### 数据来源


* 东方财富新闻网: http://so.eastmoney.com/News/s?keyword=%E4%B8%AD%E5%85%B4%E9%80%9A%E8%AE%AF
  * 将keyword替换为股票名称即可
* 同花顺财经新闻网: http://stockpage.10jqka.com.cn/603917/news/
  * 代码替换成需要关注的股票代码即可
  * 只获取热点新闻即可
* 公司大事公告: http://stockpage.10jqka.com.cn/603917/event/
  * 代码替换成需要关注的股票代码即可
  * 获取近期重要事件
* 龙虎榜: http://data.10jqka.com.cn/market/longhu/

